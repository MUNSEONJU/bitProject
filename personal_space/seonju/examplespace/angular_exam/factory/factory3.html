<!DOCTYPE html>
<html ng-app="myapp" ng-controller="ctrl">
<head>
	<title></title>
	<script type="text/javascript" src="http://code.angularjs.org/1.2.9/angular.min.js"></script>
	<script type="text/javascript">

	angular.module('myapp', [])
	.factory('$globalcontext',function(){
		return {
			key: "global value"
		}
	})
	.factory('$test', function(){
		return {
			apple: "red",
			banana:function(){
				return "yellow";
			},
			fruit:function(){
				console.log("banana : "+ this.banana());
			}
		}
	})
	.controller('ctrl', function($test,$globalcontext){
			$test.print();
			console.log($globalcontext.key);
	})
	</script>
</head>
<body>

</body>
</html>
